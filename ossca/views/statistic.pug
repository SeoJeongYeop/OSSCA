extends layout

block vars
  - var menu='home'
  
block content
  .d-flex.text-lg
    .btn-toolbar(role="toolbar", aria-label="Toolbar with button groups")
      .btn-group.me-2(role="group", aria-label="First group")
        button.btn.btn-primary.btn-score(type="button") 1 
        button.btn.btn-outline-primary.btn-score(type="button") 2
        button.btn.btn-outline-primary.btn-score(type="button") 3
    .form-check.form-switch 
        input#absenceSwitch.form-check-input(type="checkbox", role="switch" checked)
        label.form-check-label(for="absenceSwitch")
          span.bold 휴학생 
          span.switch-toggle-absence.none 미포함 
          span.switch-toggle-absence.bold 포함 
    .form-check.form-switch 
      input#majorSwitch.form-check-input(type="checkbox", role="switch" checked)
      label.form-check-label(for="majorSwitch")
        span.bold 복수전공 
        span.switch-toggle-major.none 미포함 
        span.switch-toggle-major.bold 포함 
  .row.pt-2.mb-2
    .col-my-p20.ps-
      .card.p-1
        h5.card-title 연도별 Score
        canvas#scoreYear
    .col-my-p20
      .card.p-1  
        h5.card-title 연도별 Commit
        canvas#commitYear
    .col-my-p20
      .card.p-1
        h5.card-title 연도별 Star
        canvas#starYear
    .col-my-p20
      .card.p-1 
        h5.card-title 연도별 PR
        canvas#prYear
    .col-my-p20
      .card.p-1 
        h5.card-title 연도별 Issue
        canvas#issueYear
  .d-flex.text-lg
    .dropdown
      button#dropdownMenuButton1.btn.btn-primary.dropdown-toggle.me-2(type="button", data-bs-toggle="dropdown", aria-expanded="false") 2021 
      ul.dropdown-menu(aria-labelledby="dropdownMenuButton1")
        li
          button#dropdownBtn2021.dropdown-item 2021
        li 
          button#dropdownBtn2020.dropdown-item 2020
        li 
          button#dropdownBtn2019.dropdown-item 2019
    .form-check.form-switch 
      input#totalSwitch.form-check-input(type="checkbox", role="switch" checked)
      label.form-check-label(for="totalSwitch")
        span.switch-toggle 개별 
        span.switch-toggle.bold 합계
    
  #overviewChart.row.pt-2
    .col-md-3
      .card.p-2
        h5#scoreTitle.card-title 3점 이상 인원
        .text-center.kpi
          span#overGoalNumerator.current.text-primary
          |  / 
          span#overGoalDenominator.total
          span.percent-wrapper
            | (
            span#overGoalPercent.percent 0.0%
            | )
        canvas#scoreOverview
    .col-md-3 
      .card.p-2
        h5#commitTitle.card-title 총 Commit 수
        .text-center.kpi
          span#commitNumerator.current.text-primary
          |  / 
          span#commitDenominator.total
          span.percent-wrapper
            | (
            span#commitPercent.percent 0.0%
            | )
        canvas#commitOverview
    .col-md-3 
      .card.p-2
        h5#starTitle.card-title 총 Star 수
        .text-center.kpi
          span#starNumerator.current.text-primary
          |  / 
          span#starDenominator.total
          span.percent-wrapper
            | (
            span#starPercent.percent 0.0%
            | )
        canvas#starOverview
    .col-md-3
      .card.p-2 
        h5#repoTitle.card-title 총 Repo 수
        div.text-center.kpi
          span#repoNumerator.current.text-primary
          |  / 
          span#repoDenominator.total
          span.percent-wrapper
            | (
            span#repoPercent.percent 0.0%
            | )
        canvas#repoOverview

  ul.nav.nav-tabs.mt-4.text-lg
    li.nav-item
      a.nav-link#pills-score-tab.active Score
    li.nav-item
      a.nav-link#pills-commits-tab Commits
    li.nav-item
      a.nav-link#pills-stars-tab Stars
    li.nav-item
      a.nav-link#pills-pr-tab Pull Requests
    li.nav-item
      a.nav-link#pills-issue-tab Issues

  #pills-score.tab-pane.fade.show.mt-2
    .row.mt-2 
      .col-md-4 
        .card.p-2
          h5.card-title.factor 전체 Score분포
          #perScore.text-flex
          canvas#totalScoreDist 
      .col-md-4
        .card.p-2
          h5.card-title.factor 학번별 Score분포
          canvas#sidScoreDist
      .col-md-4
        .card.p-2
          h5.card-title.factor 학과별 Score분포
          canvas#deptScoreDist

  
  script(type="text/javascript", src="/javascripts/statistic.js")
  script(type='text/javascript' src="https://unpkg.com/chart.js@3.6.0/dist/chart.js")
  script(type='text/javascript' src="scripts/chartjs-chart-error-bars/build/index.umd.js")

  